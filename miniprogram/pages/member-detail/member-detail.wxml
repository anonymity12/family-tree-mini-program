<view class="container">
  <view class="member-detail">
    <!-- View mode -->
    <view wx:if="{{!isEditMode}}">
      <view class="avatar-container">
        <image class="avatar" src="{{member.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
      </view>
      
      <view class="info-section">
        <view class="info-row">
          <text class="label">å§“å</text>
          <text class="value">{{member.name}}</text>
        </view>
        
        <view class="info-row">
          <text class="label">å‡ºç”Ÿæ—¥æœŸ</text>
          <text class="value">{{member.birthDate}}</text>
        </view>
        
        <view class="info-row">
          <text class="label">çˆ¶äº²</text>
          <text class="value">{{member.fatherName || 'æœªçŸ¥'}}</text>
        </view>
        
        <view class="info-row">
          <text class="label">æ¯äº²</text>
          <text class="value">{{member.motherName || 'æœªçŸ¥'}}</text>
        </view>
      </view>

      <view wx:if="{{member.description}}" class="description-section">
        <text class="label">ä¸ªäººæè¿°</text>
        <text class="description">{{member.description}}</text>
      </view>
      
      <view class="edit-button-container">
        <button class="edit-button" bindtap="toggleEditMode">ä¿®æ”¹ä¸ªäººä¿¡æ¯</button>
      </view>
    </view>

    <!-- Edit mode -->
    <view wx:else class="edit-mode">
      <view class="avatar-container">
        <image class="avatar" src="{{editedMember.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
        <view class="avatar-edit" bindtap="chooseImage">
          <text class="edit-icon">ğŸ“·</text>
          <text class="edit-text">æ›´æ¢å¤´åƒ</text>
        </view>
      </view>

      <view class="info-section">
        <view class="info-row">
          <text class="label">å§“å</text>
          <input 
            class="input-field" 
            value="{{editedMember.name}}" 
            data-field="name"
            bindinput="handleInputChange"
            placeholder="è¯·è¾“å…¥å§“å"
          />
        </view>
        
        <view class="info-row">
          <text class="label">å‡ºç”Ÿæ—¥æœŸ</text>
          <input 
            class="input-field" 
            value="{{editedMember.birthDate}}" 
            data-field="birthDate"
            bindinput="handleInputChange"
            placeholder="è¯·è¾“å…¥å‡ºç”Ÿæ—¥æœŸ"
          />
        </view>
        
        <view class="info-row">
          <text class="label">çˆ¶äº²</text>
          <input 
            class="input-field" 
            value="{{editedMember.fatherName}}" 
            data-field="fatherName"
            bindinput="handleInputChange"
            placeholder="è¯·è¾“å…¥çˆ¶äº²å§“å"
          />
        </view>
        
        <view class="info-row">
          <text class="label">æ¯äº²</text>
          <input 
            class="input-field" 
            value="{{editedMember.motherName}}" 
            data-field="motherName"
            bindinput="handleInputChange"
            placeholder="è¯·è¾“å…¥æ¯äº²å§“å"
          />
        </view>
      </view>

      <view class="description-section">
        <text class="label">ä¸ªäººæè¿°</text>
        <textarea 
          class="description-textarea" 
          value="{{editedMember.description}}" 
          data-field="description"
          bindinput="handleInputChange"
          placeholder="è¯·è¾“å…¥ä¸ªäººæè¿°"
          maxlength="-1"
        />
      </view>
      
      <view class="edit-actions">
        <button class="save-button" bindtap="saveEditedMember">ä¿å­˜</button>
        <button class="cancel-button" bindtap="cancelEdit">å–æ¶ˆ</button>
      </view>
    </view>
  </view>
</view>